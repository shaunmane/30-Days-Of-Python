name: Restrict Pushes to Master Branch

on:
  pull_request:
    branches:
      - master

jobs:
  check-branch-source:
    runs-on: ubuntu-latest
    steps:
      - name: Validate branch source
        run: |
          SOURCE_BRANCH="${GITHUB_HEAD_REF}"
          echo "Source branch is: $SOURCE_BRANCH"

          case "$SOURCE_BRANCH" in
            day-*) 
              echo "✅ Branch name is valid!"
              ;;
            *)
              echo "❌ Only branches starting with 'day-' can be merged into master"
              exit 1
              ;;
          esac